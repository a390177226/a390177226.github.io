<!doctype html><html><head><title>JS Web API</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><script src=/vendor/js/jquery.min.js></script><script src=/vendor/js/popper.min.js></script><script src=/vendor/js/bootstrap.min.js></script><script src=/vendor/js/smooth-scroll.polyfills.min.js></script><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><script src=/vendor/js/vue.min.js></script><link rel=stylesheet href=https://a390177226.github.io/scss/journal.min.579b9706a9598d23683f569ff063cd9cae54a7a2832e27345bc621e5d9b61d58.css integrity="sha256-V5uXBqlZjSNoP1af8GPNnK5Up6KDLic0W8Yh5dm2HVg=" media=screen><link rel=stylesheet href=https://a390177226.github.io/scss/dark-mode.min.c8808fcf21682127815c96de88e1b749dcb247b5937d839340d8146cf0945a25.css integrity="sha256-yICPzyFoISeBXJbeiOG3SdyyR7WTfYOTQNgUbPCUWiU=" media=screen><script src=https://a390177226.github.io//js/loadCSS.js></script><script>loadCSS("https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Noto+Serif+SC|Material+Icons")</script><script src=https://a390177226.github.io//js/toc-collapse.js></script></head><body><div id=app><div ref=sideContainer class=side-container><a class="a-block nav-head false" href=https://a390177226.github.io/><div class=nav-title>ZZB's blog</div><div class=nav-subtitle>Record my study.</div></a><div class=nav-link-list><a class="a-block nav-link-item false" href=/categories>Categories</a>
<a class="a-block nav-link-item false" href=/tags>Tags</a>
<a class="a-block nav-link-item false" href=/post>文章</a>
<a class="a-block nav-link-item active" href=/%E5%89%8D%E7%AB%AF>前端</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://amazingrise.net>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
zzb2021.</div></div><div ref=extraContainer class=extra-container><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"><div class=toc-content><center>- TOC -</center><ul><li><a href=#web-api onclick="onNavClick(`#web-api-nav`)" id=web-api-nav>Web API</a></li><li><a href=#dom onclick="onNavClick(`#dom-nav`)" id=dom-nav>DOM</a></li><ul class=collapse data-toggle=collapse><li><a href=#html-dom-%e6%a0%91 onclick="onNavClick(`#html-dom-树-nav`)" id=html-dom-树-nav>HTML DOM 树</a></li><li><a href=#%e6%9f%a5%e6%89%be%e5%85%83%e7%b4%a0 onclick="onNavClick(`#查找元素-nav`)" id=查找元素-nav>查找元素</a></li><li><a href=#%e4%ba%8b%e4%bb%b6 onclick="onNavClick(`#事件-nav`)" id=事件-nav>事件</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e9%ab%98%e7%ba%a7 onclick="onNavClick(`#事件高级-nav`)" id=事件高级-nav>事件高级</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6 onclick="onNavClick(`#注册事件-nav`)" id=注册事件-nav>注册事件</a></li><li><a href=#%e5%88%a0%e9%99%a4%e4%ba%8b%e4%bb%b6 onclick="onNavClick(`#删除事件-nav`)" id=删除事件-nav>删除事件</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e6%b5%81 onclick="onNavClick(`#事件流-nav`)" id=事件流-nav>事件流</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e5%af%b9%e8%b1%a1 onclick="onNavClick(`#事件对象-nav`)" id=事件对象-nav>事件对象</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e5%a7%94%e6%89%98 onclick="onNavClick(`#事件委托-nav`)" id=事件委托-nav>事件委托</a></li></ul><li><a href=#%e6%93%8d%e4%bd%9c%e5%85%83%e7%b4%a0 onclick="onNavClick(`#操作元素-nav`)" id=操作元素-nav>操作元素</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e6%94%b9%e5%8f%98%e5%85%83%e7%b4%a0%e5%86%85%e5%ae%b9 onclick="onNavClick(`#改变元素内容-nav`)" id=改变元素内容-nav>改变元素内容</a></li><li><a href=#%e6%94%b9%e5%8f%98%e5%85%83%e7%b4%a0%e5%b1%9e%e6%80%a7 onclick="onNavClick(`#改变元素属性-nav`)" id=改变元素属性-nav>改变元素属性</a></li><li><a href=#%e6%94%b9%e5%8f%98css%e6%a0%b7%e5%bc%8f onclick="onNavClick(`#改变css样式-nav`)" id=改变css样式-nav>改变CSS样式</a></li><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%b1%9e%e6%80%a7 onclick="onNavClick(`#自定义属性-nav`)" id=自定义属性-nav>自定义属性</a></li></ul><li><a href=#%e8%8a%82%e7%82%b9%e6%93%8d%e4%bd%9c onclick="onNavClick(`#节点操作-nav`)" id=节点操作-nav>节点操作</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e7%88%b6%e7%ba%a7%e8%8a%82%e7%82%b9 onclick="onNavClick(`#父级节点-nav`)" id=父级节点-nav>父级节点</a></li><li><a href=#%e5%ad%90%e7%ba%a7%e8%8a%82%e7%82%b9 onclick="onNavClick(`#子级节点-nav`)" id=子级节点-nav>子级节点</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e5%92%8c%e6%b7%bb%e5%8a%a0%e8%8a%82%e7%82%b9 onclick="onNavClick(`#创建和添加节点-nav`)" id=创建和添加节点-nav>创建和添加节点</a></li><li><a href=#%e5%88%a0%e9%99%a4%e8%8a%82%e7%82%b9 onclick="onNavClick(`#删除节点-nav`)" id=删除节点-nav>删除节点</a></li><li><a href=#%e5%a4%8d%e5%88%b6%e8%8a%82%e7%82%b9 onclick="onNavClick(`#复制节点-nav`)" id=复制节点-nav>复制节点</a></li><li><a href=#%e4%b8%89%e7%a7%8d%e5%8a%a8%e6%80%81%e5%88%9b%e5%bb%ba%e5%85%83%e7%b4%a0%e7%9a%84%e5%8c%ba%e5%88%ab onclick="onNavClick(`#三种动态创建元素的区别-nav`)" id=三种动态创建元素的区别-nav>三种动态创建元素的区别</a></li></ul><li><a href=#dom%e9%87%8d%e7%82%b9%e6%a0%b8%e5%bf%83 onclick="onNavClick(`#dom重点核心-nav`)" id=dom重点核心-nav>DOM重点核心</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e5%88%9b%e5%bb%ba onclick="onNavClick(`#创建-nav`)" id=创建-nav>创建</a></li><li><a href=#%e5%a2%9e onclick="onNavClick(`#增-nav`)" id=增-nav>增</a></li><li><a href=#%e5%88%a0 onclick="onNavClick(`#删-nav`)" id=删-nav>删</a></li><li><a href=#%e6%94%b9 onclick="onNavClick(`#改-nav`)" id=改-nav>改</a></li><li><a href=#%e6%9f%a5 onclick="onNavClick(`#查-nav`)" id=查-nav>查</a></li><li><a href=#%e5%b1%9e%e6%80%a7%e6%93%8d%e4%bd%9c onclick="onNavClick(`#属性操作-nav`)" id=属性操作-nav>属性操作</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e6%93%8d%e4%bd%9c onclick="onNavClick(`#事件操作-nav`)" id=事件操作-nav>事件操作</a></li></ul></ul><li><a href=#bom onclick="onNavClick(`#bom-nav`)" id=bom-nav>BOM</a></li><ul class=collapse data-toggle=collapse><li><a href=#dom%e5%92%8cbom%e5%af%b9%e6%af%94 onclick="onNavClick(`#dom和bom对比-nav`)" id=dom和bom对比-nav>DOM和BOM对比</a></li><li><a href=#bom%e6%9e%84%e6%88%90 onclick="onNavClick(`#bom构成-nav`)" id=bom构成-nav>BOM构成</a></li><li><a href=#window-%e5%af%b9%e8%b1%a1 onclick="onNavClick(`#window-对象-nav`)" id=window-对象-nav>Window 对象</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e5%ae%9a%e6%97%b6%e5%99%a8 onclick="onNavClick(`#定时器-nav`)" id=定时器-nav>定时器</a></li></ul></div></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a>
<a class=pagination-action v-on:click=toggleDarkMode><i class="material-icons pagination-action-icon" v-if=isDarkMode>brightness_4</i>
<i class="material-icons pagination-action-icon" v-else=isDarkMode>brightness_7</i></a></div></div><div class=single-column-drawer-container ref=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item false" href=/categories>Categories</a>
<a class="a-block drawer-menu-item false" href=/tags>Tags</a>
<a class="a-block drawer-menu-item false" href=/post>文章</a>
<a class="a-block drawer-menu-item active" href=/%E5%89%8D%E7%AB%AF>前端</a><div class=toc><div class=toc-content><center>- TOC -</center><ul><li><a href=#web-api onclick="onNavClick(`#web-api-nav`)" id=web-api-nav>Web API</a></li><li><a href=#dom onclick="onNavClick(`#dom-nav`)" id=dom-nav>DOM</a></li><ul class=collapse data-toggle=collapse><li><a href=#html-dom-%e6%a0%91 onclick="onNavClick(`#html-dom-树-nav`)" id=html-dom-树-nav>HTML DOM 树</a></li><li><a href=#%e6%9f%a5%e6%89%be%e5%85%83%e7%b4%a0 onclick="onNavClick(`#查找元素-nav`)" id=查找元素-nav>查找元素</a></li><li><a href=#%e4%ba%8b%e4%bb%b6 onclick="onNavClick(`#事件-nav`)" id=事件-nav>事件</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e9%ab%98%e7%ba%a7 onclick="onNavClick(`#事件高级-nav`)" id=事件高级-nav>事件高级</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e6%b3%a8%e5%86%8c%e4%ba%8b%e4%bb%b6 onclick="onNavClick(`#注册事件-nav`)" id=注册事件-nav>注册事件</a></li><li><a href=#%e5%88%a0%e9%99%a4%e4%ba%8b%e4%bb%b6 onclick="onNavClick(`#删除事件-nav`)" id=删除事件-nav>删除事件</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e6%b5%81 onclick="onNavClick(`#事件流-nav`)" id=事件流-nav>事件流</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e5%af%b9%e8%b1%a1 onclick="onNavClick(`#事件对象-nav`)" id=事件对象-nav>事件对象</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e5%a7%94%e6%89%98 onclick="onNavClick(`#事件委托-nav`)" id=事件委托-nav>事件委托</a></li></ul><li><a href=#%e6%93%8d%e4%bd%9c%e5%85%83%e7%b4%a0 onclick="onNavClick(`#操作元素-nav`)" id=操作元素-nav>操作元素</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e6%94%b9%e5%8f%98%e5%85%83%e7%b4%a0%e5%86%85%e5%ae%b9 onclick="onNavClick(`#改变元素内容-nav`)" id=改变元素内容-nav>改变元素内容</a></li><li><a href=#%e6%94%b9%e5%8f%98%e5%85%83%e7%b4%a0%e5%b1%9e%e6%80%a7 onclick="onNavClick(`#改变元素属性-nav`)" id=改变元素属性-nav>改变元素属性</a></li><li><a href=#%e6%94%b9%e5%8f%98css%e6%a0%b7%e5%bc%8f onclick="onNavClick(`#改变css样式-nav`)" id=改变css样式-nav>改变CSS样式</a></li><li><a href=#%e8%87%aa%e5%ae%9a%e4%b9%89%e5%b1%9e%e6%80%a7 onclick="onNavClick(`#自定义属性-nav`)" id=自定义属性-nav>自定义属性</a></li></ul><li><a href=#%e8%8a%82%e7%82%b9%e6%93%8d%e4%bd%9c onclick="onNavClick(`#节点操作-nav`)" id=节点操作-nav>节点操作</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e7%88%b6%e7%ba%a7%e8%8a%82%e7%82%b9 onclick="onNavClick(`#父级节点-nav`)" id=父级节点-nav>父级节点</a></li><li><a href=#%e5%ad%90%e7%ba%a7%e8%8a%82%e7%82%b9 onclick="onNavClick(`#子级节点-nav`)" id=子级节点-nav>子级节点</a></li><li><a href=#%e5%88%9b%e5%bb%ba%e5%92%8c%e6%b7%bb%e5%8a%a0%e8%8a%82%e7%82%b9 onclick="onNavClick(`#创建和添加节点-nav`)" id=创建和添加节点-nav>创建和添加节点</a></li><li><a href=#%e5%88%a0%e9%99%a4%e8%8a%82%e7%82%b9 onclick="onNavClick(`#删除节点-nav`)" id=删除节点-nav>删除节点</a></li><li><a href=#%e5%a4%8d%e5%88%b6%e8%8a%82%e7%82%b9 onclick="onNavClick(`#复制节点-nav`)" id=复制节点-nav>复制节点</a></li><li><a href=#%e4%b8%89%e7%a7%8d%e5%8a%a8%e6%80%81%e5%88%9b%e5%bb%ba%e5%85%83%e7%b4%a0%e7%9a%84%e5%8c%ba%e5%88%ab onclick="onNavClick(`#三种动态创建元素的区别-nav`)" id=三种动态创建元素的区别-nav>三种动态创建元素的区别</a></li></ul><li><a href=#dom%e9%87%8d%e7%82%b9%e6%a0%b8%e5%bf%83 onclick="onNavClick(`#dom重点核心-nav`)" id=dom重点核心-nav>DOM重点核心</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e5%88%9b%e5%bb%ba onclick="onNavClick(`#创建-nav`)" id=创建-nav>创建</a></li><li><a href=#%e5%a2%9e onclick="onNavClick(`#增-nav`)" id=增-nav>增</a></li><li><a href=#%e5%88%a0 onclick="onNavClick(`#删-nav`)" id=删-nav>删</a></li><li><a href=#%e6%94%b9 onclick="onNavClick(`#改-nav`)" id=改-nav>改</a></li><li><a href=#%e6%9f%a5 onclick="onNavClick(`#查-nav`)" id=查-nav>查</a></li><li><a href=#%e5%b1%9e%e6%80%a7%e6%93%8d%e4%bd%9c onclick="onNavClick(`#属性操作-nav`)" id=属性操作-nav>属性操作</a></li><li><a href=#%e4%ba%8b%e4%bb%b6%e6%93%8d%e4%bd%9c onclick="onNavClick(`#事件操作-nav`)" id=事件操作-nav>事件操作</a></li></ul></ul><li><a href=#bom onclick="onNavClick(`#bom-nav`)" id=bom-nav>BOM</a></li><ul class=collapse data-toggle=collapse><li><a href=#dom%e5%92%8cbom%e5%af%b9%e6%af%94 onclick="onNavClick(`#dom和bom对比-nav`)" id=dom和bom对比-nav>DOM和BOM对比</a></li><li><a href=#bom%e6%9e%84%e6%88%90 onclick="onNavClick(`#bom构成-nav`)" id=bom构成-nav>BOM构成</a></li><li><a href=#window-%e5%af%b9%e8%b1%a1 onclick="onNavClick(`#window-对象-nav`)" id=window-对象-nav>Window 对象</a></li><ul class=collapse data-toggle=collapse><li><a href=#%e5%ae%9a%e6%97%b6%e5%99%a8 onclick="onNavClick(`#定时器-nav`)" id=定时器-nav>定时器</a></li></ul></div></div></div></div></div><transition name=fade><div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav ref=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div ref=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu</i></button>
<a ref=navTitle class=navbar-brand href=https://a390177226.github.io/>ZZB's blog</a>
<button type=button class=nav-darkmode-toggle v-on:click=toggleDarkMode>
<i class=material-icons v-if=isDarkMode>brightness_4</i>
<i class=material-icons v-else=isDarkMode>brightness_7</i></button></div></nav><div class=single-column-header-container ref=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://a390177226.github.io/><div class=single-column-header-title>ZZB's blog</div><div class=single-column-header-subtitle>Record my study.</div></a></div><div id=content><div ref=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>JS Web API<div class=post-meta><time itemprop=datePublished>2021-05-19 14:56</time>
<i class=material-icons>folder</i>
<a href=/categories/js>JS</a>
&nbsp;
<i class=material-icons>label</i>
<a href=/tags/bom>BOM</a>
&nbsp;
<a href=/tags/dom>DOM</a>
&nbsp;</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><h1 id=web-api>Web API</h1><p>Web API是浏览器提供的一套操作<strong>浏览器功能</strong>和<strong>页面元素</strong>的API（BOM和DOM）。</p><p>Web API主要是针对于浏览器提供的接口，主要针对于浏览器做交互效果。</p><p>Web API一般都有输入和输出（函数的传参和返回值），Web API很多都是方法（函数）。</p><h1 id=dom>DOM</h1><p>文档对象类型（Document Object Model，DOM）是W3C定义的访问文档的标准：</p><blockquote><p>“W3C 文档对象模型（DOM）是中立于平台和语言的接口，它允许程序和脚本动态地访问、更新文档的内容、结构和样式。”</p></blockquote><p>W3C DOM 标准被分为 3 个不同的部分：</p><ul><li>Core DOM - 所有文档类型的标准模型</li><li>XML DOM - XML 文档的标准模型</li><li>HTML DOM - HTML 文档的标准模型</li></ul><p>HTML DOM 是 HTML 的标准对象模型和编程接口。它定义了：</p><ul><li>作为对象的 HTML 元素</li><li>所有 HTML 元素的属性</li><li>访问所有 HTML 元素的方法</li><li>所有 HTML 元素的事件</li></ul><p><strong>换言之：HTML DOM 是关于如何获取、更改、添加或删除 HTML 元素的标准</strong>。</p><h2 id=html-dom-树>HTML DOM 树</h2><p><img src=/images/html/domtree.gif alt="HTML DOM 树"></p><ul><li>文档：一个页面就是一个文档，DOM中使用doument表示</li><li>元素：页面中的所有标签都是元素，DOM中使用element表示</li><li>节点：网页中的所有内容都是节点（标签、属性、文本、注释等），DOM中使用node表示</li></ul><p><strong>DOM把以上内容都看作是对象</strong></p><h2 id=查找元素>查找元素</h2><table><thead><tr><th style=text-align:left>方法</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>document.getElementById(<em>id</em>)</td><td style=text-align:left>通过元素 id 来查找元素</td></tr><tr><td style=text-align:left>document.getElementsByTagName(<em>name</em>)</td><td style=text-align:left>通过标签名来查找元素</td></tr><tr><td style=text-align:left>document.getElementsByClassName(<em>name</em>)</td><td style=text-align:left>通过类名来查找元素</td></tr><tr><td style=text-align:left>document.querySelector(&lsquo;选择器&rsquo;)</td><td style=text-align:left>通过 CSS 选择器查找 HTML 元素</td></tr><tr><td style=text-align:left><a href="https://www.w3school.com.cn/tiy/t.asp?f=js_doc_anchors">document.body</a></td><td style=text-align:left>通过 HTML 对象集合查找 HTML 元素</td></tr></tbody></table><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>html</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>p</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;time&#34;</span>&gt;2021-5-19&lt;/<span style=color:#8b008b;font-weight:700>p</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
<span style=color:#8b008b;font-weight:700>var</span> timer = <span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;demo&#34;</span>);
console.log(timer);	<span style=color:#228b22>// 打印2021-5-19
</span><span style=color:#228b22></span>console.dir(timer);	<span style=color:#228b22>// 打印返回的元素对象，更好的查看里面的属性和方法
</span><span style=color:#228b22></span>&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>html</span>&gt;
</code></pre></div><h2 id=事件>事件</h2><p>JS使我们有能力创建动态页面，而事件是可以被JS侦测到的行为。</p><p>简单理解：触发——响应机制。</p><p>事件由三要素组成：事件源、事件类型和事件处理程序。</p><table><thead><tr><th style=text-align:left>三要素</th><th style=text-align:left>描述</th><th>例子</th></tr></thead><tbody><tr><td style=text-align:left>事件源</td><td style=text-align:left>事件被触发的对象</td><td>按钮（button）</td></tr><tr><td style=text-align:left>事件类型</td><td style=text-align:left>如何触发事件</td><td>鼠标点击（onclick）</td></tr><tr><td style=text-align:left>事件处理程序</td><td style=text-align:left>做什么事</td><td><code>displayDate()</code>函数</td></tr></tbody></table><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>html</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>button</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;myBtn&#34;</span>&gt;唐伯虎&lt;/<span style=color:#8b008b;font-weight:700>button</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
<span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;myBtn&#34;</span>).onclick = displayDate;
<span style=color:#8b008b;font-weight:700>function</span> displayDate() {alert(<span style=color:#658b00>Date</span>());}
&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>html</span>&gt; 
</code></pre></div><h2 id=事件高级>事件高级</h2><h3 id=注册事件>注册事件</h3><p>给元素添加事件，称为注册事件或者绑定事件。</p><table><thead><tr><th style=text-align:left>注册事件</th><th style=text-align:left>描述</th><th>特点</th></tr></thead><tbody><tr><td style=text-align:left>传统方法</td><td style=text-align:left>利用on开头的事件，如onclick</td><td>唯一性，即同一个元素同一个事件只能设置一个处理函数，最后注册的处理函数将会覆盖前面注册的处理函数</td></tr><tr><td style=text-align:left>事件监听器</td><td style=text-align:left><code>addEventListener()</code> 方法，w3c标准，推荐方式</td><td>同一个元素同一个事件可以注册多个监听器，按注册顺序依次执行。能够向任何 DOM 对象添加事件处理程序而非仅仅 HTML 元素，例如 window 对象</td></tr></tbody></table><p><strong>addEventListener() 方法</strong></p><blockquote><p>element.addEventListener(event, function, useCapture);</p></blockquote><ul><li><p>event：事件的类型（比如 &ldquo;click&rdquo; 或 &ldquo;mousedown&rdquo;），注意这里不要带on</p></li><li><p>function：事件处理函数，事件发生时，会调用该监听函数</p></li><li><p>useCapture：可选参数，布尔值，默认值是 false，将使用冒泡传播，如果该值设置为 true，则事件使用捕获传播</p></li></ul><h3 id=删除事件>删除事件</h3><table><thead><tr><th style=text-align:left>解绑事件</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left>传统方法</td><td style=text-align:left><code>eventTarget.onclick=null;</code></td></tr><tr><td style=text-align:left>事件监听器</td><td style=text-align:left><code>removeEventListener()</code>方法</td></tr></tbody></table><h3 id=事件流>事件流</h3><p>事件流描述的是页面中接受事件的顺序。</p><p>在 HTML DOM中有两种事件传播的方法：冒泡和捕获。</p><blockquote><p>假如 <code>&lt;div></code> 元素内有一个<code>&lt;p></code>，然后用户点击了这个 <code>&lt;p></code> 元素，应该首先处理哪个元素“click”事件？</p><p>在冒泡中，最内侧元素的事件会首先被处理，然后是更外侧的：首先处理 <code>&lt;p></code> 元素的点击事件，然后是 <code>&lt;div></code> 元素的点击事件。</p><p>在捕获中，最外侧元素的事件会首先被处理，然后是更内侧的：首先处理 <code>&lt;div></code> 元素的点击事件，然后是 <code>&lt;p></code> 元素的点击事件。</p></blockquote><blockquote><p><strong>注意</strong>：</p><ul><li>JS代码中只能执行捕获或者冒泡其中的一个阶段</li><li>onclick和attachEvent只能得到冒泡阶段</li><li>实际开发中，很少使用事件捕获，更关注事件冒泡</li><li>有些事件是没有冒泡的，如onblur、onfocus、onmouseenter、onmouseleave</li></ul></blockquote><h3 id=事件对象>事件对象</h3><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>html</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>div</span>&gt;123&lt;/<span style=color:#8b008b;font-weight:700>div</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
	<span style=color:#8b008b;font-weight:700>var</span> div = <span style=color:#658b00>document</span>.querSelector(<span style=color:#cd5555>&#39;div&#39;</span>);
    div.onclick = <span style=color:#8b008b;font-weight:700>function</span>(event) { console.log(event);}
    <span style=color:#228b22>// div.addEventListener(&#39;click&#39;, fn)
</span><span style=color:#228b22></span>    <span style=color:#228b22>// function fn(e) { console.log(e);}
</span><span style=color:#228b22></span>&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>html</span>&gt; 
</code></pre></div><blockquote><ul><li><p><code>event</code>就是一个事件对象，写到事件处理函数中，当形参来看</p></li><li><p>事件对象只有有了事件才存在，他是系统给我们自动创建的，不需要传递参数</p></li><li><p><a href=https://www.w3school.com.cn/jsref/dom_obj_event.asp>Event 对象</a>是事件的一系列相关信息数据的集合，如鼠标位置、键盘按键状态、鼠标按钮的状态等</p></li><li><p>这个事件对象我们可以自己命名，如event、evt、e</p></li></ul></blockquote><h3 id=事件委托>事件委托</h3><p>事件委托也称为事件代理，在jQuery里面称为事件委派。</p><blockquote><p>原理：不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点</p><p>作用：只操作了一次DOM，提高了程序的性能</p></blockquote><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>&lt;ul&gt;
    &lt;li&gt;<span style=color:#b452cd>1</span>&lt;<span style=color:#a61717;background-color:#e3d2d2>/li&gt;</span>
	&lt;li&gt;<span style=color:#b452cd>2</span>&lt;<span style=color:#a61717;background-color:#e3d2d2>/li&gt;</span>
	&lt;li&gt;<span style=color:#b452cd>3</span>&lt;<span style=color:#a61717;background-color:#e3d2d2>/li&gt;</span>
&lt;<span style=color:#a61717;background-color:#e3d2d2>/ul&gt;</span>

&lt;script&gt;
	<span style=color:#8b008b;font-weight:700>var</span> ul = <span style=color:#658b00>document</span>.querySelector(<span style=color:#cd5555>&#34;ul&#34;</span>);
	ul.addEventListener(<span style=color:#cd5555>&#39;click&#39;</span>, <span style=color:#8b008b;font-weight:700>function</span>(e) {
        <span style=color:#8b008b;font-weight:700>for</span>(<span style=color:#8b008b;font-weight:700>var</span> i = <span style=color:#b452cd>0</span>; i &lt; ul.children.length; i++){
        	ul.children[i].style.backgroundColor = <span style=color:#cd5555>&#39;&#39;</span>;
        }
        e.target.style.backgroundColor = <span style=color:#cd5555>&#39;pink&#39;</span>;
    })
&lt;<span style=color:#a61717;background-color:#e3d2d2>/script&gt;</span>
</code></pre></div><h2 id=操作元素>操作元素</h2><p>DOM操作可以改变网页内容、结构和样式，可以利用DOM操作元素里面的内容、属性等。</p><h3 id=改变元素内容>改变元素内容</h3><p>修改 HTML 文档内容最简单的方法是，使用 <code>innerHTML</code>和<code>innerText</code> 属性。</p><table><thead><tr><th style=text-align:left>属性</th><th style=text-align:left>描述</th></tr></thead><tbody><tr><td style=text-align:left><code>innerHTML</code></td><td style=text-align:left>可读写的，识别html标签，W3C标准</td></tr><tr><td style=text-align:left><code>innerText</code></td><td style=text-align:left>可读写的，不识别html标签，去除空格和换行</td></tr></tbody></table><h3 id=改变元素属性>改变元素属性</h3><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>html</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>button</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;demo1&#34;</span>&gt;demo1&lt;/<span style=color:#8b008b;font-weight:700>button</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>button</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;demo2&#34;</span>&gt;demo2&lt;/<span style=color:#8b008b;font-weight:700>button</span>&gt; &lt;<span style=color:#8b008b;font-weight:700>br</span> &gt;
&lt;<span style=color:#8b008b;font-weight:700>img</span> <span style=color:#658b00>src</span>=<span style=color:#cd5555>&#34;/i/eg_smile.gif&#34;</span> <span style=color:#658b00>alt</span>=<span style=color:#cd5555>&#34;&#34;</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
<span style=color:#8b008b;font-weight:700>var</span> demo1 = <span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;demo1&#34;</span>);
<span style=color:#8b008b;font-weight:700>var</span> demo2 = <span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;demo2&#34;</span>);
<span style=color:#8b008b;font-weight:700>var</span> img = <span style=color:#658b00>document</span>.querySelector(<span style=color:#cd5555>&#39;img&#39;</span>); 
demo1.onclick = <span style=color:#8b008b;font-weight:700>function</span>() {img.src=<span style=color:#cd5555>&#39;/i/eg_smile.gif&#39;</span>;};
demo2.onclick = <span style=color:#8b008b;font-weight:700>function</span>() {img.src=<span style=color:#cd5555>&#39;/i/porsche.jpg&#39;</span>;};
&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>html</span>&gt;
</code></pre></div><h3 id=改变css样式>改变CSS样式</h3><p>JS修改style是行内样式，权重比较高。</p><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>html</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>p</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;p2&#34;</span>&gt;Hello World!&lt;/<span style=color:#8b008b;font-weight:700>p</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
<span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;p2&#34;</span>).style.color = <span style=color:#cd5555>&#34;blue&#34;</span>;
&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>html</span>&gt;
</code></pre></div><h3 id=自定义属性>自定义属性</h3><p>目的：保存并使用数据。</p><p>HTML5规定自定义属性data-开头作为属性名并且赋值。</p><p>比如<code>&lt;div data-index="1">&lt;/div></code>或者使用JS设置<code>div.setAttribute('data-index',2)</code></p><p>获取自定义属性的值:</p><ul><li><code>div.getAttribute('data-index')</code></li><li><code>div.dataset.index</code>或者<code>div.dataset['index']</code></li></ul><p>注：自定义属性有多个-链接的单词，采用驼峰命名法。</p><p>比如<code>div.getAttribute('data-list-name')</code></p><p><code>div.dataset.listName</code>或者<code>div.dataset['listName']</code></p><h2 id=节点操作>节点操作</h2><p>除了利用DOM提供的方法获取元素，还可以利用节点层级关系获取元素。</p><p>一般的，节点至少拥有nodeType（节点类型）、nodeName（节点名称）和nodeValue（节点值）这三个基本属性。</p><p>元素节点nodeType为1，属性节点nodeType为2，文本节点nodeType为3（文本节点包含文字、空格、换行等）。</p><p>实际开发中，主要操作的是元素节点。</p><h3 id=父级节点>父级节点</h3><blockquote><p>node.parentNode</p></blockquote><ul><li>parentNode属性可返回某节点的父节点，注意是最近的一个父节点</li><li>如果指定的节点没有父节点则返回null</li></ul><h3 id=子级节点>子级节点</h3><blockquote><p>node.childNodes</p></blockquote><ul><li>node.childNodes返回包含指定节点的子节点的集合</li><li>返回值里面包含了所有的子节点，包括元素节点，文本节点等</li><li>如果只想要获得里面的元素节点，则需要专门处理（判断nodeType），所以不推荐使用</li></ul><blockquote><p>node.children</p></blockquote><ul><li>node.childNodes只返回子元素节点，实际开发常用</li><li>非标准，但得到了各个浏览器的支持，因此可以放心使用</li></ul><h3 id=创建和添加节点>创建和添加节点</h3><p>如需向 HTML DOM 添加新元素，您必须首先创建这个元素（元素节点），然后将其追加到已有元素。</p><blockquote><p>document.createElement(element）</p></blockquote><p>添加节点</p><blockquote><p>para.appendChild(node) // 追加新元素作为父的最后一个子</p><p>element.insertBefore(para, child) // 在指定元素前面添加节点</p></blockquote><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>div</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;div1&#34;</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>p</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;p1&#34;</span>&gt;这是一个段落。&lt;/<span style=color:#8b008b;font-weight:700>p</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>p</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;p2&#34;</span>&gt;这是另一个段落。&lt;/<span style=color:#8b008b;font-weight:700>p</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>div</span>&gt;

&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
<span style=color:#8b008b;font-weight:700>var</span> para = <span style=color:#658b00>document</span>.createElement(<span style=color:#cd5555>&#34;p&#34;</span>);
<span style=color:#8b008b;font-weight:700>var</span> node = <span style=color:#658b00>document</span>.createTextNode(<span style=color:#cd5555>&#34;这是新文本。&#34;</span>);
para.appendChild(node);

<span style=color:#8b008b;font-weight:700>var</span> element = <span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;div1&#34;</span>);
<span style=color:#8b008b;font-weight:700>var</span> child = <span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;p1&#34;</span>);
element.insertBefore(para, child);	<span style=color:#228b22>// 在child前面插入para
</span><span style=color:#228b22></span>&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
</code></pre></div><h3 id=删除节点>删除节点</h3><p>如需删除某个 HTML 元素，您需要知晓该元素的父：</p><blockquote><p>parent.removeChild(child）</p></blockquote><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>div</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;div1&#34;</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>p</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;p1&#34;</span>&gt;这是一个段落。&lt;/<span style=color:#8b008b;font-weight:700>p</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>p</span> <span style=color:#658b00>id</span>=<span style=color:#cd5555>&#34;p2&#34;</span>&gt;这是另一个段落。&lt;/<span style=color:#8b008b;font-weight:700>p</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>div</span>&gt;

&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
<span style=color:#8b008b;font-weight:700>var</span> parent = <span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;div1&#34;</span>);
<span style=color:#8b008b;font-weight:700>var</span> child = <span style=color:#658b00>document</span>.getElementById(<span style=color:#cd5555>&#34;p1&#34;</span>);
parent.removeChild(child);
&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
</code></pre></div><h3 id=复制节点>复制节点</h3><blockquote><p>node.cloneNode(）</p></blockquote><p>括号为空或者false，浅拷贝，只复制标签不复制内容</p><p>括号为true，深拷贝，复制标签并且复制内容</p><h3 id=三种动态创建元素的区别>三种动态创建元素的区别</h3><table><thead><tr><th style=text-align:left>方法</th><th style=text-align:left>区别</th></tr></thead><tbody><tr><td style=text-align:left>document.write()</td><td style=text-align:left>直接将内容写入页面的内容流，会导致页面全部重绘</td></tr><tr><td style=text-align:left>element.innerHTML</td><td style=text-align:left>将内容写入某个DOM节点，不会导致页面全部重绘。创建多个元素效率更高（不要拼接字符串，采取数组形式拼接），结构稍微复杂</td></tr><tr><td style=text-align:left>document.createElement()</td><td style=text-align:left>创建多个元素效率稍微低一点点，但是结构更清晰</td></tr></tbody></table><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#8b008b;font-weight:700>var</span> d1 = +<span style=color:#8b008b;font-weight:700>new</span> <span style=color:#658b00>Date</span>();
<span style=color:#8b008b;font-weight:700>var</span> inner = <span style=color:#658b00>document</span>.body;
<span style=color:#8b008b;font-weight:700>var</span> arr = [];
<span style=color:#8b008b;font-weight:700>for</span> (<span style=color:#8b008b;font-weight:700>var</span> i=<span style=color:#b452cd>0</span>; i &lt;<span style=color:#b452cd>1000</span>; i++){	<span style=color:#228b22>// 数组拼接，效率最高
</span><span style=color:#228b22></span>    arr.push(<span style=color:#cd5555>&#39;&lt;a href=&#34;#&#34;&gt;baidu&lt;/a&gt;&lt;br /&gt;&#39;</span>)
}
inner.innerHTML = arr.join(<span style=color:#cd5555>&#39;&#39;</span>);
<span style=color:#8b008b;font-weight:700>var</span> d2 = +<span style=color:#8b008b;font-weight:700>new</span> <span style=color:#658b00>Date</span>();
console.log(d2 - d1);
</code></pre></div><h2 id=dom重点核心>DOM重点核心</h2><p>关于DOM操作，主要针对于元素的操作。主要有创建、增、删、改、查、属性操作、事件操作。</p><h3 id=创建>创建</h3><ul><li>document.write()</li><li>element.innerHTML</li><li>document.createElement()</li></ul><h3 id=增>增</h3><ul><li>appendChild</li><li>insertBefore</li></ul><h3 id=删>删</h3><ul><li>removeChild</li></ul><h3 id=改>改</h3><p>主要修改dom的元素属性，dom元素的内容、属性、表单的值等</p><ul><li>修改元素属性：src、href、title等</li><li>修改普通元素内容：innerHTML、innerText</li><li>修改表单元素：value、type、disable等</li><li>修改元素样式：style、className</li></ul><h3 id=查>查</h3><p>主要获取查询dom的元素</p><ul><li>DOM提供的API方法：getElementById、getElementByTagName 古老用法，不太推荐</li><li>H5提供的新方法：querySelector、querySelectorAll 提倡</li><li>利用节点操作获取元素：父（parentNode）、子（children）、兄（previousElementSibling、nextElementSibling）提倡</li></ul><h3 id=属性操作>属性操作</h3><p>主要针对于自定义属性</p><ul><li>setAttribute：设置dom的属性值</li><li>getAttribute：得到dom的属性值</li><li>removeAttribute：移除属性</li></ul><h3 id=事件操作>事件操作</h3><p>先给元素注册事件，然后采取<code>事件源.事件类型=事件处理程序</code></p><h1 id=bom>BOM</h1><p>BOM（Browser Object Model）即浏览器对象模型，它提供了独立于内容而与<strong>浏览器窗口进行交互的对象</strong>，其核心对象是window。</p><h2 id=dom和bom对比>DOM和BOM对比</h2><table><thead><tr><th style=text-align:left>DOM</th><th style=text-align:left>BOM</th></tr></thead><tbody><tr><td style=text-align:left>文档对象模型</td><td style=text-align:left>浏览器对象模型</td></tr><tr><td style=text-align:left>把<strong>文档</strong>当作一个对象</td><td style=text-align:left>把<strong>浏览器</strong>当作一个对象</td></tr><tr><td style=text-align:left>顶级对象是<code>document</code></td><td style=text-align:left>顶级对象是<code>window</code></td></tr><tr><td style=text-align:left>主要学习的是操作页面元素</td><td style=text-align:left>学习的是浏览器窗口交互的一些对象</td></tr><tr><td style=text-align:left>W3C标准规范</td><td style=text-align:left>不存在官方标准</td></tr></tbody></table><h2 id=bom构成>BOM构成</h2><p>BOM由一系列相关的对象构成，并且每个对象都提供了很多方法和属性。</p><p>BOM比DOM更大，它包含DOM。</p><p><img src=/images/html/bom.jfif alt=BOM></p><h2 id=window-对象>Window 对象</h2><p><code>window</code>对象是浏览器的顶级对象，它具有双重角色。</p><ul><li>是JS访问浏览器窗口的一个接口</li><li>是一个全局对象，定义在全局作用域中的变量、函数都会变成<code>window</code>对象的属性和方法</li><li>注意：在调用的时候可以省略<code>window</code>，如<code>alert()</code>等；<code>window</code>下的一个特殊属性<code>window.name</code></li></ul><h3 id=定时器>定时器</h3><blockquote><p><code>window</code>对象提供了两种定时器方法：</p><ul><li><a href=https://www.w3school.com.cn/jsref/met_win_settimeout.asp>setTimeout(callback,millisec)</a> 在指定的毫秒数后调用函数或计算表达式。</li><li><a href=https://www.w3school.com.cn/jsref/met_win_setinterval.asp>setInterval(callback,millisec)</a> 按照指定的周期（以毫秒计）来调用函数或计算表达式。</li></ul><p>callback：回调函数</p><p>millisec：在执行代码前需等待的毫秒数</p></blockquote><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>&lt;img src=<span style=color:#cd5555>&#39;ad.png&#39;</span> alt=<span style=color:#cd5555>&#39;&#39;</span> <span style=color:#8b008b;font-weight:700>class</span>=<span style=color:#cd5555>&#39;ad&#39;</span>&gt;
&lt;script&gt;
    <span style=color:#8b008b;font-weight:700>var</span> ad = <span style=color:#658b00>document</span>.querySelector(<span style=color:#cd5555>&#39;.ad&#39;</span>);
	setTimeout(fn,<span style=color:#b452cd>5000</span>);	<span style=color:#228b22>// 5s后广告自动消失
</span><span style=color:#228b22></span>	<span style=color:#8b008b;font-weight:700>function</span> fn() { ad.style.display = <span style=color:#cd5555>&#39;none&#39;</span>;}
&lt;<span style=color:#a61717;background-color:#e3d2d2>/script&gt;</span>
</code></pre></div><p>清除定时器</p><ul><li><a href=https://www.w3school.com.cn/jsref/met_win_clearinterval.asp>clearInterval()</a> 取消由 setInterval() 设置的 timeout</li><li><a href=https://www.w3school.com.cn/jsref/met_win_cleartimeout.asp>clearTimeout()</a> 取消由 setTimeout() 方法设置的 timeout</li></ul><p><strong>案例：倒计时效果</strong></p><div class=highlight><pre style=background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#8b008b;font-weight:700>html</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>head</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>style</span>&gt;
<span style=color:#8b008b;font-weight:700>div</span> <span style=color:#8b008b;font-weight:700>span</span> {
	<span style=color:#8b008b;font-weight:700>display</span>: <span style=color:#8b008b;font-weight:700>inline</span>-<span style=color:#8b008b;font-weight:700>block</span>;
	<span style=color:#8b008b;font-weight:700>color</span>: <span style=color:#8b008b;font-weight:700>white</span>;
    <span style=color:#8b008b;font-weight:700>background-color</span>: <span style=color:#8b008b;font-weight:700>black</span>;
    <span style=color:#8b008b;font-weight:700>width</span>: <span style=color:#b452cd>100</span><span style=color:#00688b;font-weight:700>px</span>;
    <span style=color:#8b008b;font-weight:700>height</span>: <span style=color:#b452cd>100</span><span style=color:#00688b;font-weight:700>px</span>;
    <span style=color:#8b008b;font-weight:700>text-align</span>: <span style=color:#8b008b;font-weight:700>center</span>;
    <span style=color:#8b008b;font-weight:700>line-height</span>: <span style=color:#b452cd>100</span><span style=color:#00688b;font-weight:700>px</span>;
}
&lt;/<span style=color:#8b008b;font-weight:700>style</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>head</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>div</span>&gt;
	&lt;<span style=color:#8b008b;font-weight:700>span</span> <span style=color:#658b00>class</span>=<span style=color:#cd5555>&#39;hour&#39;</span>&gt;01&lt;/<span style=color:#8b008b;font-weight:700>span</span>&gt;
	&lt;<span style=color:#8b008b;font-weight:700>span</span> <span style=color:#658b00>class</span>=<span style=color:#cd5555>&#39;minute&#39;</span>&gt;02&lt;/<span style=color:#8b008b;font-weight:700>span</span>&gt;
	&lt;<span style=color:#8b008b;font-weight:700>span</span> <span style=color:#658b00>class</span>=<span style=color:#cd5555>&#39;second&#39;</span>&gt;03&lt;/<span style=color:#8b008b;font-weight:700>span</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>div</span>&gt;
&lt;<span style=color:#8b008b;font-weight:700>script</span>&gt;
    <span style=color:#228b22>// 1. 获取元素
</span><span style=color:#228b22></span>    <span style=color:#8b008b;font-weight:700>var</span> hour = <span style=color:#658b00>document</span>.querySelector(<span style=color:#cd5555>&#39;.hour&#39;</span>);
	<span style=color:#8b008b;font-weight:700>var</span> minute = <span style=color:#658b00>document</span>.querySelector(<span style=color:#cd5555>&#39;.minute&#39;</span>);
	<span style=color:#8b008b;font-weight:700>var</span> second = <span style=color:#658b00>document</span>.querySelector(<span style=color:#cd5555>&#39;.second&#39;</span>);
	<span style=color:#8b008b;font-weight:700>var</span> inputTime = +<span style=color:#8b008b;font-weight:700>new</span> <span style=color:#658b00>Date</span>(<span style=color:#cd5555>&#39;2021-5-20 18:00:00&#39;</span>);	<span style=color:#228b22>// 返回用户输入时间的总毫秒数
</span><span style=color:#228b22></span>	<span style=color:#228b22>// 2. 开启定时器
</span><span style=color:#228b22></span>    countDown();	<span style=color:#228b22>// 先调用一次，f
</span><span style=color:#228b22></span>	setInterval(countDown, <span style=color:#b452cd>1000</span>);
	<span style=color:#8b008b;font-weight:700>function</span> countDown() {
    	<span style=color:#8b008b;font-weight:700>var</span> nowTime = +<span style=color:#8b008b;font-weight:700>new</span> <span style=color:#658b00>Date</span>();					<span style=color:#228b22>// 返回当前时间的总毫秒数
</span><span style=color:#228b22></span>    	<span style=color:#8b008b;font-weight:700>var</span> times = (inputTime - nowTime) / <span style=color:#b452cd>1000</span>;	<span style=color:#228b22>// 返回剩余时间的总秒数
</span><span style=color:#228b22></span>    	<span style=color:#8b008b;font-weight:700>var</span> h = <span style=color:#658b00>parseInt</span>(times/<span style=color:#b452cd>60</span>/<span style=color:#b452cd>60</span>%<span style=color:#b452cd>24</span>);			<span style=color:#228b22>// 返回时
</span><span style=color:#228b22></span>    	h = h &lt; <span style=color:#b452cd>10</span> ? <span style=color:#cd5555>&#39;0&#39;</span> + h : h;
        hour.innerHTML = h;							
    	<span style=color:#8b008b;font-weight:700>var</span> m = <span style=color:#658b00>parseInt</span>(times/<span style=color:#b452cd>60</span>%<span style=color:#b452cd>60</span>);				<span style=color:#228b22>// 返回分
</span><span style=color:#228b22></span>    	m = m &lt; <span style=color:#b452cd>10</span> ? <span style=color:#cd5555>&#39;0&#39;</span> + m : m;
        minute.innerHTML = m;
    	<span style=color:#8b008b;font-weight:700>var</span> s = <span style=color:#658b00>parseInt</span>(times%<span style=color:#b452cd>60</span>);					<span style=color:#228b22>// 返回秒数
</span><span style=color:#228b22></span>    	s = s &lt; <span style=color:#b452cd>10</span> ? <span style=color:#cd5555>&#39;0&#39;</span> + s : s;
        second.innerHTML = s;
	}
&lt;/<span style=color:#8b008b;font-weight:700>script</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>body</span>&gt;
&lt;/<span style=color:#8b008b;font-weight:700>html</span>&gt;
</code></pre></div><hr width=100% id=EOF><p style=color:#777>最后修改于 2021-05-19</p></div></div><nav class=post-pagination><a class=newer-posts>Next<br>No newer posts.</a>
<a class=older-posts href=https://a390177226.github.io/%E5%89%8D%E7%AB%AF/js%E5%9F%BA%E7%A1%80/>Previous<br>JS基础</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://amazingrise.net>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
zzb2021.</div></div><script>let app;app=new Vue({el:'#app',data:{scrollY:0,navOpacity:0,isDrawerOpen:!1,mounted:!1,isDarkMode:!1},methods:{sgn(a,b){let c=1/(1-2*a);return b<=a?0:b>=1-a?1:c*(b-a)},handleScroll(){this.scrollY=window.scrollY,this.navOpacity=this.sgn(0,Math.min(1,Math.max(0,window.scrollY/(this.pageHeadHeight()-this.navBarHeight()*.8))));const{navBar:c,navBackground:a,navTitle:b,extraContainer:d,streamContainer:e}=this.$refs;this.navOpacity>=1?(a.style.opacity=1,b.style.opacity=1):(a.style.opacity=0,b.style.opacity=0)},handleResize(){const{navBar:c,navBackground:d,navTitle:e,extraContainer:a,streamContainer:b}=this.$refs;a.style.left=b.offsetWidth-a.offsetWidth+'px'},navBarHeight(){return this.$refs.navBar.offsetHeight},pageHeadHeight(){return this.$refs.pageHead.offsetHeight},toggleDrawer(){this.isDrawerOpen=!this.isDrawerOpen,document.getElementsByTagName('html')[0].style.overflow=this.isDrawerOpen?'hidden':'unset'},closeDrawer(){this.isDrawerOpen=!1,document.getElementsByTagName('html')[0].style.overflow=this.isDrawerOpen?'hidden':'unset'},toggleDarkMode(){this.isDarkMode=!this.isDarkMode,this.isDarkMode==!0?(document.cookie="night=1;path=/",document.body.classList.add("night")):(document.cookie="night=0;path=/",document.body.classList.remove("night"))}},created(){window.addEventListener('scroll',this.handleScroll),window.addEventListener('resize',this.handleResize),window._nonDesktop=function(){let a=!1;return function(b){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a};var a=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1");a==""?window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches:a=="1"&&this.toggleDarkMode()},mounted(){this.handleScroll(),this.handleResize(),this.mounted=!0},destroyed(){window.removeEventListener('scroll',this.handleScroll),window.removeEventListener('resize',this.handleResize)}})</script><script src=https://a390177226.github.io//js/journal.js></script></body></html>